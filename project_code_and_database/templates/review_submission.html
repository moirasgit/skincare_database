{% extends 'layout.html' %}

{% block content %}
    <div class="review-container">
        <h2>Submit a Review for {{ product_name }}</h2>
        <form action="{{ url_for('submit_review', product_id=product_id) }}" method="POST" class="review-form">
            <textarea name="text" placeholder="Write your review here" required></textarea>
            <div class="rating-container">
                <label for="rating">Rating:</label>
                <input type="number" name="rating" min="1" max="5" placeholder="Rating (1-5)" required>
            </div>
            <button type="submit">Submit Review</button>
        </form>
    </div>

    <!-- Reviews Section -->
    <div class="reviews-section">
        {% if reviews %}
            <h3>Product Reviews:</h3>
            <ul class="reviews-list">
                {% for review in reviews %}
                    <li>
                        <p><strong>Reviewed by {{ review.user_name }}:</strong></p>
                        <p>{{ review.text }}</p>
                        <p>Rating: {{ review.rating }} / 5</p>
                        <p><small>Reviewed on: {{ review.date }}</small></p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No reviews yet.</p>
        {% endif %}
    </div>

{% endblock %}
